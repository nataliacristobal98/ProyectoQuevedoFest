## 4-Modelo Físico
### 4.2-Cración de tablas y otros objetos

```sql
DROP DATABASE IF EXISTS artistas;
CREATE DATABASE artistas OWNER dbo_daw1_a;

-- Creación de tablas: Area Organizacion
--
CREATE TABLE organizacion (
    id_organizacion INT CONSTRAINT organizacion_pk PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    jefe_jefa VARCHAR(30) NOT NULL,
    empresa VARCHAR(20) NOT NULL,
    presupuesto INT NOT NULL,
    patrocinador VARCHAR(20)
);

-- Creación de tablas: Area Artistas
--
CREATE TABLE artistas(
    id_artistas INT CONSTRAINT artistas_pk PRIMARY KEY,
    id_organizacion INT NOT NULL,
    id_cartel INT NOT NULL,
    id_horario INT NOT NULL,
    id_speaker INT,
    id_cantante INT,
    id_presentador INT,
        CONSTRAINT artistas_organizacion_id_organizacion_fk FOREIGN KEY (organizacion_id_organizacion) 
        REFERENCES organizacion (id_organizacion) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT artistas_cartel_id_cartel_fk FOREIGN KEY (cartel_id_cartel) 
        REFERENCES cartel (id_cartel) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT artistas_horario_id_horario_fk FOREIGN KEY (horario_id_horario) 
        REFERENCES horario (id_horario) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE speaker (
    id_speaker  INT CONSTRAINT speaker_pk PRIMARY KEY,
    nombre  VARCHAR(20) NOT NULL,       
    agencia  VARCHAR(20),
    fecha_turno DATE NOT NULL,

);

CREATE TABLE charla (
    tema_charla VARCHAR(30) CONSTRAINT charla_pk PRIMARY KEY,
    id_speaker INT NOT NULL,
        CONSTRAINT charla_speaker_id_speaker_fk FOREIGN KEY (speaker_id_speaker) 
        REFERENCES speaker (id_speaker) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE presentador (
    id_presentador  INT NOT NULL,
    nombre  VARCHAR(20) NOT NULL,       
    agencia  VARCHAR(20),
    fecha_turno DATE NOT NULL
);

CREATE TABLE estilista (
    id_estilista INT CONSTRAINT estilista_pk PRIMARY KEY,
    id_maquillaje INT,
    id_vestuario INT,
    nombre VARCHAR(20) NOT NULL,
    contacto VARCHAR(20) NOT NULL,
    red_social VARCHAR(15),
    especialidad VARCHAR(20) NOT NULL,
);

CREATE TABLE solista (
    id_cantante  INT NOT NULL,
    id_solista INT NOT NULL,
    nombre  VARCHAR(20) NOT NULL,       
    agencia  VARCHAR(20),
    fecha_turno DATE NOT NULL,
    genero_musical VARCHAR(30) NOT NULL,
    color_oficial VARCHAR(10),
    fecha_debut DATE,
    nombre_fanclub VARCHAR(15),
    id_maquillaje INT NOT NULL,
    id_vestuario INT NOT NULL,
        CONSTRAINT solista_estilista_id_maquillaje_fk FOREIGN KEY (estilista_id_maquillaje) 
        REFERENCES estilista (id_maquillaje) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT solista_estilista_id_vestuario_fk FOREIGN KEY (estilista_id_vestuario) 
        REFERENCES estilista (id_vestuario) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE grupo (
    id_cantante  INT NOT NULL,
    id_grupo INT NOT NULL,
    nombre  VARCHAR(20) NOT NULL,       
    agencia  VARCHAR(20),
    fecha_turno DATE NOT NULL,
    genero_musical VARCHAR(30) NOT NULL,
    color_oficial VARCHAR(10),
    fecha_debut DATE,
    nombre_fanclub VARCHAR(15),
    num_integrantes INT NOT NULL,
    id_maquillaje INT NOT NULL,
    id_vestuario INT NOT NULL,
        CONSTRAINT solista_estilista_id_maquillaje_fk FOREIGN KEY (estilista_id_maquillaje) 
        REFERENCES estilista (id_maquillaje) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT solista_estilista_id_vestuario_fk FOREIGN KEY (estilista_id_vestuario) 
        REFERENCES estilista (id_vestuario) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE fanclub (
    id_fanclub INT CONSTRAINT fanclub_pk PRIMARY KEY,
    nombre VARCHAR(15) NOT NULL,
    pagina_web VARCHAR(35),
    id_cantante INT NOT NULL,
        CONSTRAINT fanclub_solista_id_cantante_fk FOREIGN KEY (solista_id_cantante) 
        REFERENCES solista (id_cantante) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT fanclub_grupo_id_cantante_fk FOREIGN KEY (grupo_id_cantante) 
        REFERENCES grupo (id_cantante) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE fan(
    id_fan INT CONSTRAINT fan_pk PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    fecha_inscripcion DATE NOT NULL,
    estatus VARCHAR(10) NOT NULL,
    id_fanclub INT NOT NULL,
        CONSTRAINT fan_fanclub_id_fanclub_fk FOREIGN KEY (fanclub_id_fanclub) 
        REFERENCES fanclub (id_fanclub) ON DELETE CASCADE ON UPDATE CASCADE,
);

CREATE TABLE proyecto(
    id_proyecto INT CONSTRAINT proyecto_id PRIMARY KEY,
    descripcion VARCHAR(40) NOT NULL,
    material VARCHAR(40),
    id_fan INT NOT NULL,
        CONSTRAINT proyecto_fan_id_fan_fk FOREIGN KEY (fan_id_fanc) 
        REFERENCES fan (id_fan) ON DELETE CASCADE ON UPDATE CASCADE
);

-- Creación de tablas: Area Invitaciones
--
CREATE TABLE celebridades (
    id_celebridad INT CONSTRAINT celebridades_pk PRIMARY KEY,
    id_actor_actriz INT,
    id_influencer INT,
        CONSTRAINT celebridades_actor_actriz_id_actor_actriz_fk FOREIGN KEY (actor_actriz_id_actor_actriz) 
        REFERENCES actor_actriz (id_fan) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT celebridades_influencer_id_influencer_fk FOREIGN KEY (influencer_id_influencer) 
        REFERENCES influencer (id_influencer) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE campo_trabajo (
    campo_trabajo VARCHAR(30) CONSTRAINT campo_trabajo_pk PRIMARY KEY,
    id_celebridad INT NOT NULL,
        CONSTRAINT campo_trabajo_celebridades_id_celebridad_fk FOREIGN KEY (celebridades_id_celebridad) 
        REFERENCES celebridades (id_celebridad) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE actor_actriz (
    id_act INT CONSTRAINT actor_actriz_pk PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    agencia VARCHAR(15) NOT NULL
);

CREATE TABLE influencer (
    id_influencer INT CONSTRAINT influencer_pk PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    red_social VARCHAR(15) NOT NULL
);

CREATE TABLE invitacion (
    id_invitacion INT CONSTRAINT invitacion_pk PRIMARY KEY,
    codigo_QR VARCHAR(25) NOT NULL,
    fecha DATE NOT NULL,
    id_celebridad INT NOT NULL,
    id_organizacion INT NOT NULL,
        CONSTRAINT invitacion_celebridades_id_celebridad_fk FOREIGN KEY (celebridades_id_celebridad) 
        REFERENCES celebridades (id_celebridad) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT invitacion_organizacion_id_organizacion_fk FOREIGN KEY (organizacion_id_organizacion) 
        REFERENCES organizacion (id_organizacion) ON DELETE CASCADE ON UPDATE CASCADE
);

-- Creación de tablas: Area Cartel
--
CREATE TABLE diseñador (
    id_diseñador INT CONSTRAINT diseñador_pk PRIMARY KEY,
    nombre VARCHAR(20) NOT NULL,
    red_social VARCHAR(20),
    id_organizacion INT NOT NULL,
        CONSTRAINT diseñador_organizacion_id_organizacion_fk FOREIGN KEY (organizacion_id_organizacion) 
        REFERENCES organizacion (id_organizacion) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE cartel (
    id_cartel INT CONSTRAINT cartel_pk PRIMARY KEY,
    fecha DATE NOT NULL,
    presupuesto INT NOT NULL,
    id_diseñador INT NOT NULL,
    id_horario INT NOT NULL,
        CONSTRAINT cartel_diseñador_id_diseñador_fk FOREIGN KEY (diseñador_id_diseñador) 
        REFERENCES diseñador (id_diseñador) ON DELETE CASCADE ON UPDATE CASCADE,
        CONSTRAINT cartel_horario_id_horario_fk FOREIGN KEY (horario_id_horario) 
        REFERENCES horario (id_horario) ON DELETE CASCADE ON UPDATE CASCADE
);

-- Creación de tablas: Area Agenda
--
CREATE TABLE agenda (
    id_agenda INT CONSTRAINT agenda_pk PRIMARY KEY,
    fecha DATE NOT NULL,
    prevision_dia VARCHAR(100) NOT NULL,
    id_organizacion INT NOT NULL,
        CONSTRAINT agenda_organizacion_id_organizacion_fk FOREIGN KEY (organizacion_id_organizacion) 
        REFERENCES organizacion (id_organizacion) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE horario (
    id_horario INT CONSTRAINT horario_pk PRIMARY KEY,
    fecha DATE NOT NULL,
    hora DATE NOT NULL,
    descripcion_evento VARCHAR(50) NOT NULL,
    id_agenda INT NOT NULL,
        CONSTRAINT horario_agenda_id_agenda_fk FOREIGN KEY (agenda_id_agenda) 
        REFERENCES agenda (id_agenda) ON DELETE CASCADE ON UPDATE CASCADE
);
````